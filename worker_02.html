<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <title>w2</title>
    <link rel="stylesheet" href="highlight.css">
    <script src="highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad()</script>
    <script defer>
      const ping_delay1 = new Worker('ping_delay1.js')
      ping_delay1.onmessage = console.log
      const ping_delay2 = new Worker('ping_delay2.js')
      ping_delay2.onmessage = console.log
      const ping_random = new Worker('ping_random.js')
      ping_random.onmessage = console.log
    </script>
    <style>
      body {
      	text-align: center;
      	margin: 0 auto;
      	max-width: 600px;
      	padding-top: 2em;
      	padding-bottom: 2em;
      }
      img {
        width: 50%;
      }
      code {
      	text-align: left;
      	margin: 2em 0;
      }
      textarea {
        width: 100%;
        height: 12em;
      }
    </style>
  </head>
  <body>
    <h1>WORKER RETARDO</h1>
    <hr>
<pre><code class="javascript">const ping_delay1 = new Worker('ping_delay1.js')
ping_delay1.onmessage = console.log

const ping_delay2 = new Worker('ping_delay2.js')
ping_delay2.onmessage = console.log</code></pre>
<pre><code class="javascript">// ping_delay1.js
self.onmessage = e => {
  const timestamp = Date.now()
  while (Date.now() - timestamp < 5000);
  self.postMessage(e.data)
}</code></pre>
<pre><code class="javascript">// ping_delay2.js
self.onmessage = e => setTimeout(() => {
  self.postMessage(e.data)
}, 5000)</code></pre>
  <hr>
<pre><code class="javascript">// garçom ping_random
var minhaCallBack = function minhaCallBack (e) {
  "agradecer o garçom"
  "brindar"
  "comer"
  console.log(`mnhmhnmh, eu adoro ${e}`)
}

garçom("meu pedido", minhaCallBack)</code></pre>
  <textarea></textarea>
  </body>
</html>
